(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[430],{61903:function(e,r,t){"use strict";t.d(r,{Z:function(){return q}});var n=t(87462),o=t(63366),s=t(67294),i=t(86010),a=t(94780),l=t(57579),c=t(26393),d=t(27623),u=t(90089),p=t(78288),f=t(37058),m=t(33841),h=t(10913),v=t(15704),x=t(74423),b=t(98216),w=t(27621),g=t(1588);function N(e){return(0,w.Z)("MuiFormHelperText",e)}var Z,y=(0,g.Z)("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),k=t(85893);const j=["children","className","component","disabled","error","filled","focused","margin","required","variant"],F=(0,c.ZP)("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,t.size&&r[`size${(0,b.Z)(t.size)}`],t.contained&&r.contained,t.filled&&r.filled]}})((({theme:e,ownerState:r})=>(0,n.Z)({color:(e.vars||e).palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${y.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${y.error}`]:{color:(e.vars||e).palette.error.main}},"small"===r.size&&{marginTop:4},r.contained&&{marginLeft:14,marginRight:14})));var A=s.forwardRef((function(e,r){const t=(0,d.Z)({props:e,name:"MuiFormHelperText"}),{children:s,className:l,component:c="p"}=t,u=(0,o.Z)(t,j),p=(0,x.Z)(),f=(0,v.Z)({props:t,muiFormControl:p,states:["variant","size","disabled","error","filled","focused","required"]}),m=(0,n.Z)({},t,{component:c,contained:"filled"===f.variant||"outlined"===f.variant,variant:f.variant,size:f.size,disabled:f.disabled,error:f.error,filled:f.filled,focused:f.focused,required:f.required}),h=(e=>{const{classes:r,contained:t,size:n,disabled:o,error:s,filled:i,focused:l,required:c}=e,d={root:["root",o&&"disabled",s&&"error",n&&`size${(0,b.Z)(n)}`,t&&"contained",l&&"focused",i&&"filled",c&&"required"]};return(0,a.Z)(d,N,r)})(m);return(0,k.jsx)(F,(0,n.Z)({as:c,ownerState:m,className:(0,i.Z)(h.root,l),ref:r},u,{children:" "===s?Z||(Z=(0,k.jsx)("span",{className:"notranslate",children:"\u200b"})):s}))})),S=t(53179);function T(e){return(0,w.Z)("MuiTextField",e)}(0,g.Z)("MuiTextField",["root"]);const P=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],R={standard:u.Z,filled:p.Z,outlined:f.Z},C=(0,c.ZP)(h.Z,{name:"MuiTextField",slot:"Root",overridesResolver:(e,r)=>r.root})({});var q=s.forwardRef((function(e,r){const t=(0,d.Z)({props:e,name:"MuiTextField"}),{autoComplete:s,autoFocus:c=!1,children:u,className:p,color:f="primary",defaultValue:h,disabled:v=!1,error:x=!1,FormHelperTextProps:b,fullWidth:w=!1,helperText:g,id:N,InputLabelProps:Z,inputProps:y,InputProps:j,inputRef:F,label:q,maxRows:z,minRows:M,multiline:I=!1,name:_,onBlur:E,onChange:W,onFocus:$,placeholder:H,required:L=!1,rows:O,select:B=!1,SelectProps:X,type:V,value:D,variant:J="outlined"}=t,G=(0,o.Z)(t,P),K=(0,n.Z)({},t,{autoFocus:c,color:f,disabled:v,error:x,fullWidth:w,multiline:I,required:L,select:B,variant:J}),Q=(e=>{const{classes:r}=e;return(0,a.Z)({root:["root"]},T,r)})(K);const U={};"outlined"===J&&(Z&&"undefined"!==typeof Z.shrink&&(U.notched=Z.shrink),U.label=q),B&&(X&&X.native||(U.id=void 0),U["aria-describedby"]=void 0);const Y=(0,l.Z)(N),ee=g&&Y?`${Y}-helper-text`:void 0,re=q&&Y?`${Y}-label`:void 0,te=R[J],ne=(0,k.jsx)(te,(0,n.Z)({"aria-describedby":ee,autoComplete:s,autoFocus:c,defaultValue:h,fullWidth:w,multiline:I,name:_,rows:O,maxRows:z,minRows:M,type:V,value:D,id:Y,inputRef:F,onBlur:E,onChange:W,onFocus:$,placeholder:H,inputProps:y},U,j));return(0,k.jsxs)(C,(0,n.Z)({className:(0,i.Z)(Q.root,p),disabled:v,error:x,fullWidth:w,ref:r,required:L,color:f,variant:J,ownerState:K},G,{children:[null!=q&&""!==q&&(0,k.jsx)(m.Z,(0,n.Z)({htmlFor:Y,id:re},Z,{children:q})),B?(0,k.jsx)(S.Z,(0,n.Z)({"aria-describedby":ee,id:Y,labelId:re,value:D,input:ne},X,{children:u})):ne,g&&(0,k.jsx)(A,(0,n.Z)({id:ee},b,{children:g}))]}))}))},77773:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sell-nft",function(){return t(54082)}])},54082:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return v}});var n=t(34051),o=t.n(n),s=t(85893),i=t(45220),a=t(83078),l=t(61744),c=t(96301),d=t(67294),u=t(10913),p=t(61903),f=t(66319);function m(e,r,t,n,o,s,i){try{var a=e[s](i),l=a.value}catch(c){return void t(c)}a.done?r(l):Promise.resolve(l).then(n,o)}function h(e){return function(){var r=this,t=arguments;return new Promise((function(n,o){var s=e.apply(r,t);function i(e){m(s,n,o,i,a,"next",e)}function a(e){m(s,n,o,i,a,"throw",e)}i(void 0)}))}}function v(){var e=(0,a.Nr)(),r=e.account,t=e.isWeb3Enabled,n=e.chainId,m=(0,i.lm)(),v=(0,d.useState)("0"),x=v[0],b=v[1],w=(0,d.useState)(!1),g=w[0],N=w[1],Z="Approve and list",y=(0,d.useState)(Z),k=y[0],j=y[1],F=(0,d.useState)("None"),A=F[0],S=F[1],T=(0,a.JX)().runContractFunction,P=(0,a.JX)({abi:c.nftAbi,contractAddress:c.nftAddress,functionName:"walletOfOwner",params:{_owner:r}}).runContractFunction;function R(){return(R=h(o().mark((function e(){var r,t,n,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("Approving..."),r=document.querySelector("#nft-address").value,t=document.querySelector("#token-id").value,n=document.querySelector("#price").value,r&&t&&n){e.next=6;break}return e.abrupt("return");case 6:return N(!0),j("Approving..."),s={abi:c.nftAbi,contractAddress:r,functionName:"approve",params:{to:c.marketplaceAddress,tokenId:t}},console.log(s),e.next=12,T({params:s,onError:function(e){m({type:"error",iconColor:"red",title:e.message,position:"topR"}),console.log(e),N(!1),j(Z)},onSuccess:function(e){return C(e,r,t,n)}});case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e,r,t,n){return q.apply(this,arguments)}function q(){return(q=h(o().mark((function e(r,t,n,s){var i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.wait(1);case 2:return j("Listing..."),console.log("Ok! Now time to list"),i={abi:c.nftMarketplaceAbi,contractAddress:c.marketplaceAddress,functionName:"listItem",params:{nftAddress:t,tokenId:n,price:l.vz(s,"ether").toString()}},console.log(i),e.next=8,T({params:i,onSuccess:z,onError:function(e){j(Z),N(!1),m({type:"error",iconColor:"red",title:e.message,position:"topR"}),console.log(e)}});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e){return M.apply(this,arguments)}function M(){return(M=h(o().mark((function e(r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.wait(1);case 2:m({type:"success",iconColor:"green",title:"NFT Listed",position:"topR"}),j(Z),N(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var I=function(){var e=h(o().mark((function e(r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.wait(1);case 2:N(!1),m({type:"success",title:"Withdrawed proceeds",position:"topR",iconColor:"green"});case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();function _(){return(_=h(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T({params:{abi:c.nftMarketplaceAbi,contractAddress:c.marketplaceAddress,functionName:"getProceeds",params:{seller:r}},onError:function(e){return console.log(e)}});case 2:(t=e.sent)&&b(t.toString());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return(E=h(o().mark((function e(r){var t,n,s,i,a,l,c,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(r);case 2:for(t=e.sent,n="",console.log(t),s=!0,i=!1,a=void 0,e.prev=6,l=t[Symbol.iterator]();!(s=(c=l.next()).done);s=!0)d=c.value,n+="".concat(d,", ");e.next=14;break;case 10:e.prev=10,e.t0=e.catch(6),i=!0,a=e.t0;case 14:e.prev=14,e.prev=15,s||null==l.return||l.return();case 17:if(e.prev=17,!i){e.next=20;break}throw a;case 20:return e.finish(17);case 21:return e.finish(14);case 22:n=n.replace(/,\s*$/,""),S(n||"None");case 24:case"end":return e.stop()}}),e,null,[[6,10,14,22],[15,,17,21]])})))).apply(this,arguments)}return(0,d.useEffect)((function(){t&&c.supportedNetworks.includes(Number(n))&&(function(){_.apply(this,arguments)}(),function(e){E.apply(this,arguments)}(r))}),[t,r,x]),(0,s.jsx)("div",{children:t&&c.supportedNetworks.includes(Number(n))?(0,s.jsx)("div",{className:"flex flex-col items-center p-4",children:(0,s.jsxs)("div",{className:"w-1/3 flex flex-col gap-2",children:[(0,s.jsx)("h3",{className:"font-bold text-2xl my-4 text-slate-500",children:"Sell an NFT!"}),(0,s.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,s.jsxs)("div",{className:"text-lg",children:["Token ID Minted: ",(0,s.jsx)("span",{className:"font-bold",children:A})]}),(0,s.jsxs)(u.Z,{className:"gap-6",children:[(0,s.jsx)(p.Z,{id:"nft-address",label:"NFT Address",size:"small",required:!0}),(0,s.jsx)(p.Z,{id:"token-id",label:"Token ID",size:"small",required:!0}),(0,s.jsx)(p.Z,{id:"price",type:"number",label:"Price (in MATIC)",size:"small",required:!0})]}),(0,s.jsx)(f.Z,{className:"p-2.5 my-4 rounded-lg w-1/2 max-w-[220px]",variant:"contained",size:"medium",onClick:function(){return R.apply(this,arguments)},loading:g,loadingPosition:"end",children:k})]}),(0,s.jsxs)("div",{className:"my-6",children:[(0,s.jsxs)("div",{className:"text-lg mb-4",children:["Proceeds:",(0,s.jsxs)("span",{className:"font-bold",children:[" ",l.dF(x).toString()," MATIC"]})," "]}),"0"!=x?(0,s.jsx)(f.Z,{variant:"contained",className:"rounded-lg w-1/2 max-w-[125px]",loading:g,onClick:function(){N(!0),T({params:{abi:c.nftMarketplaceAbi,contractAddress:c.marketplaceAddress,functionName:"withdrawProceeds",params:{}},onError:function(e){N(!1),console.log(e)},onSuccess:I})},children:"Withdraw"}):(0,s.jsx)("div",{className:"font-semibold",children:"No proceeds detected"})]})]})}):(0,s.jsx)("div",{className:"px-9 py-4 font-bold text-lg",children:t?(0,s.jsxs)("div",{children:["Network not supported! Supported networks are:"," ",c.supportedNetworks.join(", ")]}):(0,s.jsx)("div",{children:"Web3 Currently Not Enabled"})})})}}},function(e){e.O(0,[293,301,774,888,179],(function(){return r=77773,e(e.s=r);var r}));var r=e.O();_N_E=r}]);